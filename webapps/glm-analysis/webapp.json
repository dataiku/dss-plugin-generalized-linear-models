{
  "meta": {
    "label": "GLM Analysis",
    "description": "Analyze your GLM.",
    "icon": "icon-picture"
  },
  "baseType": "STANDARD",
  "enableJavascriptModules": "true",
  "hasBackend": "true",
  "noJSSecurity": "true",
  "standardWebAppLibraries": [
    "jquery",
    "dataiku",
    "font_awesome"
  ],
  "paramsPythonSetup": "web_app_setting_list.py",
  "params": [
      {
      "type": "SEPARATOR",
      "description": "",
       "label": "Dataset Parameters"
  },
    {
        "name": "training_dataset_string",
        "label": "Training Dataset",
        "description": "Select the Training Dataset for Modelling",
        "type": "DATASET"
    },
    {
        "name": "policy",
        "label": "Policy",
        "description": "Select the Training Test Split Policy",
         "type": "SELECT",
          "selectChoices" : [
              { "value": "random_split", "label": "Random 80:20 Split"},
              { "value": "explicit_test_set", "label": "Define a Test Set"}
          ]
    },
    {
        "name": "test_dataset_string",
        "label": "Testing Dataset",
        "description": "Select the Testing Dataset for Modelling",
        "type": "DATASET",
      "visibilityCondition": "model.policy == 'explicit_test_set'"
    },
     {
        "type": "SEPARATOR",
        "description": "",
         "label": "Modelling Parameters"
    },
    {
      "name": "prediction_type",
      "label": "Prediction Type",
      "description": "Select the Default Prediction Type",
       "type": "SELECT",
        "selectChoices" : [
            { "value": "REGRESSION", "label": "Regression"}
        ],
        "visibilityCondition": "false"
  },

  {
    "name": "target_column",
    "label": "Target Variable",
    "type": "DATASET_COLUMN",
    "datasetParamName": "training_dataset_string",
    "mandatory": true
  },
  {
    "name": "exposure_column",
    "label": "Exposure Variable",
    "type": "DATASET_COLUMN",
    "datasetParamName": "training_dataset_string",
    "mandatory": false
  },
      
      {
          "name": "create_new_analysis",
          "label": "Create New Analysis?",
          "description": "Create a new analysis on the selected dataset",
          "type": "BOOLEAN",
          "defaultValue": false,
          "mandatory": true
      },
      {
        "name": "experiment_name",
        "label": "Experiment Name",
        "description": "Your custom name for your experiment",
        "type": "STRING",
        "visibilityCondition": "model.create_new_analysis == true",
        "mandatory": false
      },
    {
      "name": "existing_analysis_id",
      "label": "Existing Analysis",
      "type": "SELECT",
       "getChoicesFromPython": true,
      "mandatory": false,
      "visibilityCondition": "model.create_new_analysis == false"
    }
  ]
}