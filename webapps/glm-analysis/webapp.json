{
  "meta": {
    "label": "GLM Analysis",
    "description": "Analyze your GLM",
    "icon": "icon-picture"
  },
  "baseType": "STANDARD",
  "enableJavascriptModules": "true",
  "hasBackend": "true",
  "noJSSecurity": "true",
  "standardWebAppLibraries": [
    "jquery",
    "dataiku",
    "font_awesome"
  ],
  "paramsPythonSetup": "web_app_setting_list.py",
  "params": [
      {
          "type": "SEPARATOR",
          "description": "",
           "label": "Analysis"
      },
      {
      "name": "analysis_id",
      "label": "Select Analysis",
      "type": "SELECT",
      "getChoicesFromPython": true,
      "description": "Select or create a new analysis",
      "mandatory": true
    },
      {
      "name": "saved_model_id",
      "label": "Select Saved Model",
      "type": "SELECT",
      "getChoicesFromPython": false,
      "type": "SAVED_MODEL",
      "description": "Select the saved model",
      "visibilityCondition": "model.analysis_id != 'new'",
      "mandatory": true
    },
      {
        "name": "analysis_name",
        "label": "Analysis Name",
        "description": "Your custom name for your experiment",
        "type": "STRING",
        "visibilityCondition": "model.analysis_id == 'new'",
        "mandatory": false
      },
      {
      "type": "SEPARATOR",
      "description": "",
       "label": "Dataset Parameters",
       "visibilityCondition": "model.analysis_id == 'new'"
  },
    {
        "name": "training_dataset_string",
        "label": "Training Dataset",
        "description": "Select the Training Dataset for Modelling",
        "type": "DATASET",
       "visibilityCondition": "model.analysis_id == 'new'"
    },
    {
        "name": "policy",
        "label": "Policy",
        "description": "Select the Training Test Split Policy",
         "type": "SELECT",
          "selectChoices" : [
              { "value": "random_split", "label": "Random 80:20 Split"},
              { "value": "explicit_test_set", "label": "Define a Test Set"}
          ],
       "visibilityCondition": "model.analysis_id == 'new'"
    },
    {
        "name": "test_dataset_string",
        "label": "Testing Dataset",
        "description": "Select the Testing Dataset for Modelling",
        "type": "DATASET",
      "visibilityCondition": "model.policy == 'explicit_test_set' && model.analysis_id == 'new'"
    },
     {
        "type": "SEPARATOR",
        "description": "",
         "label": "Modelling Parameters",
       "visibilityCondition": "model.analysis_id == 'new'"
    },

  {
    "name": "target_column",
    "label": "Target Variable",
    "type": "DATASET_COLUMN",
    "datasetParamName": "training_dataset_string",
    "mandatory": true,
       "visibilityCondition": "model.analysis_id == 'new'"
  },
  {
    "name": "exposure_column",
    "label": "Exposure Variable",
    "type": "DATASET_COLUMN",
    "datasetParamName": "training_dataset_string",
    "mandatory": false,
       "visibilityCondition": "model.analysis_id == 'new'"
  },
     {
        "type": "SEPARATOR",
        "description": "",
         "label": "Setup Parameters",
         "visibilityCondition": "model.analysis_id == 'new'"
    },
    {
        "name": "code_env_string",
        "label": "Code Environment",
        "description": "Select the Code Environment for Modelling",
        "type": "CODE_ENV",
        "visibilityCondition": "model.analysis_id == 'new'"
    }
      
      
  ]
}